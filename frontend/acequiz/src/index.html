<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Test</title>
</head>
<body>

<h2>Create Practice Test</h2>
<form id="testForm">
    <label for="name">Test Name:</label>
    <input type="text" id="name" name="name" required><br><br>

    <label for="max_score">Maximum Score:</label>
    <input type="number" id="max_score" name="max_score" required><br><br>

    <label for="images">Upload Images:</label>
    <input type="file" id="images" name="images" accept=".png, .jpeg, .jpg" multiple required><br><br>

    <input type="submit" value="Create Test">
</form>

<script>
    document.getElementById('testForm').onsubmit = async function (e) {
        e.preventDefault(); // Prevent the default form submission

        const formData = new FormData(this); // Create a FormData object
        
        // Send the form data to the server
        const response = await fetch('/api/tests', {
            method: 'POST',
            body: formData
        });
        
        if (response.ok) {
            const result = await response.json();
            alert(`Test created successfully with ID: ${result.id}`);
        } else {
            alert('Failed to create test');
        }
    };
</script>

</body>
</html>